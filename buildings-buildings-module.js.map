{"version":3,"sources":["webpack:///./src/app/buildings/buildings-routing.module.ts","webpack:///./src/app/buildings/buildings.module.ts","webpack:///./src/app/buildings/components/building/building.component.css","webpack:///./src/app/buildings/components/building/building.component.html","webpack:///./src/app/buildings/components/building/building.component.ts","webpack:///./src/app/buildings/components/landing/landing.component.css","webpack:///./src/app/buildings/components/landing/landing.component.html","webpack:///./src/app/buildings/components/landing/landing.component.ts","webpack:///./src/app/services/firebase.service.ts"],"names":[],"mappings":"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","file":"buildings-buildings-module.js","sourcesContent":["import { BuildingComponent } from './components/building/building.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LandingComponent } from './components/landing/landing.component';\n\nconst routes: Routes = [{\n    path: ':name',\n    component: BuildingComponent\n},\n{\n    path: '',\n    component: LandingComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BuildingsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BuildingsRoutingModule } from './buildings-routing.module';\nimport { BuildingComponent } from './components/building/building.component';\nimport { LandingComponent } from './components/landing/landing.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [BuildingComponent, LandingComponent],\n  imports: [\n    CommonModule,\n    BuildingsRoutingModule,\n    NgbModule,\n    FormsModule\n  ]\n})\nexport class BuildingsModule { }\n","module.exports = \".inside-btn {\\n    color: white;\\n  }\\n\\n  .plus {\\n      color: #28a745;\\n  }\\n\\n  .plus-holder {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center\\n  }\\n\\n  .card {\\n    margin: 1em;\\n}\\n\\n  .holder {\\n    display: flex;\\n    justify-content: space-evenly;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYnVpbGRpbmdzL2NvbXBvbmVudHMvYnVpbGRpbmcvYnVpbGRpbmcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7RUFDZDs7RUFFQTtNQUNJLGNBQWM7RUFDbEI7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCO0VBQ0Y7O0VBRUY7SUFDSSxXQUFXO0FBQ2Y7O0VBRUE7SUFDSSxhQUFhO0lBQ2IsNkJBQTZCO0FBQ2pDIiwiZmlsZSI6InNyYy9hcHAvYnVpbGRpbmdzL2NvbXBvbmVudHMvYnVpbGRpbmcvYnVpbGRpbmcuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbnNpZGUtYnRuIHtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cblxuICAucGx1cyB7XG4gICAgICBjb2xvcjogIzI4YTc0NTtcbiAgfVxuXG4gIC5wbHVzLWhvbGRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyXG4gIH1cblxuLmNhcmQge1xuICAgIG1hcmdpbjogMWVtO1xufVxuXG4uaG9sZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xufVxuIl19 */\"","module.exports = \"\\n<br/>\\n<h1 style=\\\"text-align: center;\\\">{{formatName}}</h1>\\n\\n<div class=\\\"d-flex flex-row justify-content-around flex-wrap\\\">\\n    <div class=\\\"card p-2\\\" style=\\\"width: 18rem;\\\" *ngFor=\\\"let floor of _floors | keyvalue\\\">\\n        <div class=\\\"card-body\\\">\\n            <h5 class=\\\"card-title\\\">{{floor.value.name}}</h5>\\n            <p class=\\\"card-text\\\" *ngFor=\\\"let pid of floor.value.pi_ids | keyvalue\\\">{{pid.key}}</p>\\n            <div class=\\\"holder\\\">\\n                <a (click)=\\\"deleteConfirm(deleteContent, floor.value.name)\\\" class=\\\"btn btn-danger\\\" style=\\\"margin-left:1em\\\">  <i class=\\\"far fa-trash-alt inside-btn\\\"> Remove</i></a>\\n            </div>\\n        </div>\\n    </div>\\n     <div class=\\\"p-2 plus-holder\\\" style=\\\"width: 18rem;\\\" >\\n        <div class=\\\"plus-holder\\\">\\n            <span (click)=\\\"openVerticallyCentered(content)\\\" style=\\\"align-items:center\\\"><i class=\\\"fas fa-plus-circle fa-5x plus\\\"></i></span>\\n        </div>\\n    </div>\\n</div>\\n\\n<ng-template #content let-modal>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" id=\\\"modal-basic-title\\\">New Floor</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modal.dismiss('Cross click')\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <form>\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"inputName\\\">Floor Name</label>\\n    <input [(ngModel)]=\\\"_newItem.name\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" name=\\\"inputName\\\" placeholder=\\\"Floor One\\\">\\n  </div>\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"inputPI\\\">PI Identifiers</label>\\n    <input *ngFor=\\\"let myNum of eids_count\\\" [(ngModel)]=\\\"newPIs[myNum]\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputPI\\\" [ngModelOptions]=\\\"{standalone: true}\\\" placeholder=\\\"\\\">\\n    <h3 (click)=\\\"eids_count.push(eids_count.length)\\\"class=\\\"list-group-item\\\"> <strong>+</strong></h3>\\n    \\n  </div>\\n  \\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"submit\\\" class=\\\"btn btn-outline-dark\\\" (click)=\\\"submit();modal.close('Save click')\\\">Submit</button>\\n  </div>\\n</form>\\n</div>\\n</ng-template>\\n\\n<ng-template #deleteContent let-modal>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" id=\\\"modal-title\\\">Floor deletion</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-describedby=\\\"modal-title\\\" (click)=\\\"modal.dismiss('Cross click')\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <p><strong>Are you sure you want to delete <span class=\\\"text-primary\\\">{{selected}}</span>?</strong></p>\\n    <p>All information associated to this building will be permanently deleted.\\n    <span class=\\\"text-danger\\\">This operation can not be undone.</span>\\n    </p>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\" (click)=\\\"modal.dismiss('cancel click')\\\">Cancel</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"delete(selected);modal.close('Ok click')\\\">Ok</button>\\n  </div>\\n</ng-template>\\n\\n\\n\"","import { Building, Floor } from '../../../models/building';\nimport { FirebaseService } from '../../../services/firebase.service';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n    selector: 'app-building',\n    templateUrl: './building.component.html',\n    styleUrls: ['./building.component.css']\n})\nexport class BuildingComponent implements OnInit {\n\n    private _name: string = null;\n    private formatName: string = null;\n    selected: string;\n    newPIs: string[] = [];\n    eids_count: number[] = [0];\n\n\n    private _buildings;\n    private _floors;\n\n    private _newItem: Floor = {\n\n        name: '',\n        pi_ids: {}\n\n    };\n\n    constructor(private activeRoute: ActivatedRoute, private fb: FirebaseService, private modalService: NgbModal) { }\n\n    ngOnInit() {\n        this.activeRoute.params.subscribe(params => {\n            this._name = params.name;\n            this.updateFloors();\n        });\n\n        this.activeRoute.queryParams.subscribe(params => {\n            this.formatName = params.name;\n        });\n\n        this.fb.getBuildings().subscribe((data: Building[]) => {\n            this._buildings = {};\n            data.forEach(item => {\n                this._buildings[this.transformTitle(item.name)] = { ...item };\n            });\n\n            this.updateFloors();\n\n        });\n    }\n\n    submit(): void {\n        console.log('Submitting');\n        this.newPIs.forEach(item => {\n            this._newItem.pi_ids[item] = true;\n        });\n\n        console.log(this._name);\n        console.log(this._newItem);\n\n        this.fb.addFloor(this._name, this._newItem);\n\n        // Clear newItem\n        this._newItem = {\n            name: '',\n            pi_ids: {}\n        };\n\n        this.newPIs = [];\n        this.eids_count = [0];\n    }\n\n    openVerticallyCentered(content) {\n        this.modalService.open(content, { centered: true });\n    }\n\n    deleteConfirm(content, name: string) {\n        this.selected = name;\n        this.openVerticallyCentered(content);\n    }\n\n\n    delete(name: string): void {\n        this.fb.deleteFloor(this._name, name);\n    }\n\n    updateFloors(): void {\n        if (this._buildings && this._name) {\n            this._floors = this._buildings[this._name]['floors'];\n            console.log(this._floors);\n        }\n    }\n\n    transformTitle(title: string): string {\n        return title.replace(' ', '-').toLowerCase();\n    }\n}\n","module.exports = \".inside-btn {\\n    color: white;\\n  }\\n\\n  .plus {\\n      color: #28a745;\\n  }\\n\\n  .plus-holder {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center\\n  }\\n\\n  .card {\\n    margin: 1em;\\n}\\n\\n  .holder {\\n    display: flex;\\n    justify-content: space-evenly;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYnVpbGRpbmdzL2NvbXBvbmVudHMvbGFuZGluZy9sYW5kaW5nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0VBQ2Q7O0VBRUE7TUFDSSxjQUFjO0VBQ2xCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QjtFQUNGOztFQUVGO0lBQ0ksV0FBVztBQUNmOztFQUVBO0lBQ0ksYUFBYTtJQUNiLDZCQUE2QjtBQUNqQyIsImZpbGUiOiJzcmMvYXBwL2J1aWxkaW5ncy9jb21wb25lbnRzL2xhbmRpbmcvbGFuZGluZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmluc2lkZS1idG4ge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgfVxuXG4gIC5wbHVzIHtcbiAgICAgIGNvbG9yOiAjMjhhNzQ1O1xuICB9XG5cbiAgLnBsdXMtaG9sZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXJcbiAgfVxuXG4uY2FyZCB7XG4gICAgbWFyZ2luOiAxZW07XG59XG5cbi5ob2xkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG59XG4iXX0= */\"","module.exports = \"\\n<div class=\\\"d-flex flex-row justify-content-around flex-wrap\\\">\\n    <div class=\\\"card p-2\\\" style=\\\"width: 18rem;\\\" *ngFor=\\\"let item of _items\\\">\\n        <div class=\\\"card-body\\\">\\n            <h5 class=\\\"card-title\\\">{{item.name}}</h5>\\n            <p class=\\\"card-text\\\">{{item.address}}</p>\\n            <div class=\\\"holder\\\">\\n                <a [routerLink]=\\\"item.link\\\" [queryParams]=\\\"{name: item.name}\\\"class=\\\"btn btn-secondary\\\"> <i class=\\\"far fa-building inside-btn\\\"> Floors</i></a>\\n                <a (click)=\\\"deleteConfirm(deleteContent, item.name)\\\" class=\\\"btn btn-danger\\\" style=\\\"margin-left:1em\\\">  <i class=\\\"far fa-trash-alt inside-btn\\\"> Remove</i></a>\\n            </div>\\n        </div>\\n    </div>\\n     <div class=\\\"p-2 plus-holder\\\" style=\\\"width: 18rem;\\\" >\\n        <div class=\\\"plus-holder\\\">\\n            <span (click)=\\\"openVerticallyCentered(content)\\\" style=\\\"align-items:center\\\"><i class=\\\"fas fa-plus-circle fa-5x plus\\\"></i></span>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<ng-template #content let-modal>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" id=\\\"modal-basic-title\\\">New Building</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modal.dismiss('Cross click')\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <form>\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"inputName\\\">Name</label>\\n    <input [(ngModel)]=\\\"_newItem.name\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" name=\\\"inputName\\\">\\n  </div>\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"inputAddress\\\">Address</label>\\n    <input [(ngModel)]=\\\"_newItem.address\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputAddress\\\" name=\\\"inputAddress\\\">\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"inputAddress\\\">Starting Floor</label>\\n    <input [(ngModel)]=\\\"_newItem.floors[0].name\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputAddress\\\" name=\\\"inputFloor\\\" placeholder=\\\"Floor One\\\">\\n  </div>\\n  \\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"submit\\\" class=\\\"btn btn-outline-dark\\\" (click)=\\\"submit();modal.close('Save click')\\\">Submit</button>\\n  </div>\\n</form>\\n</div>\\n</ng-template>\\n\\n<ng-template #deleteContent let-modal>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" id=\\\"modal-title\\\">Building deletion</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-describedby=\\\"modal-title\\\" (click)=\\\"modal.dismiss('Cross click')\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <p><strong>Are you sure you want to delete <span class=\\\"text-primary\\\">{{selected}}</span>?</strong></p>\\n    <p>All information associated to this building will be permanently deleted.\\n    <span class=\\\"text-danger\\\">This operation can not be undone.</span>\\n    </p>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-outline-secondary\\\" (click)=\\\"modal.dismiss('cancel click')\\\">Cancel</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"delete(selected);modal.close('Ok click')\\\">Ok</button>\\n  </div>\\n</ng-template>\\n\"","import { Building } from './../../../models/building';\nimport { FirebaseService } from './../../../services/firebase.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n\n\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n    selector: 'app-landing',\n    templateUrl: './landing.component.html',\n    styleUrls: ['./landing.component.css']\n})\nexport class LandingComponent implements OnInit {\n\n    closeResult: string;\n    selected: string;\n\n    items: Observable<Building[]>;\n    private _items: Building[];\n\n    private _newItem: Building = {\n        name: '',\n        address: '',\n        floors: [{\n            name: '',\n            pi_ids: []\n        }]\n    };\n\n    constructor(private fb: FirebaseService, private modalService: NgbModal) { }\n\n    open(content) {\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' });\n    }\n\n    openVerticallyCentered(content) {\n        this.modalService.open(content, { centered: true });\n    }\n\n    transformTitle(title: string): string {\n        return title.replace(' ', '-').toLowerCase();\n    }\n\n    ngOnInit() {\n        this.fb.getBuildings().subscribe((data: Building[]) => {\n            this._items = data.map(item => {\n                return {\n                    ...item,\n                    link: this.transformTitle(item.name)\n                };\n            });\n            console.log(this._items);\n        });\n    }\n\n    submit(): void {\n        console.log('Submitting');\n\n        this.fb.addBuilding(this._newItem);\n\n        // Clear newItem\n        this._newItem = {\n            name: '',\n            address: '',\n            floors: [{\n                name: '',\n                pi_ids: []\n            }]\n        };\n    }\n\n    deleteConfirm(content, name: string) {\n        this.selected = name;\n        this.openVerticallyCentered(content);\n    }\n\n    delete(name: string): void {\n        this.fb.deleteBuilding(name);\n    }\n\n}\n","import { Building, Floor } from './../models/building';\nimport { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FirebaseService {\n\n    items: Observable<Building[]>;\n    buildings: AngularFireList<Building>;\n\n    constructor(private db: AngularFireDatabase) {\n        this.buildings = db.list<Building>('/building');\n        this.items = this.buildings.valueChanges();\n    }\n\n    getBuildings(): Observable<Building[]> {\n        return this.items;\n    }\n\n    addBuilding(b: Building): void {\n        this.buildings.set(this.transform(b.name), b);\n    }\n\n    deleteBuilding(name: string): void {\n        this.buildings.set(this.transform(name), null);\n    }\n\n    addFloor(name: string, f: Floor): void {\n        this.db.list<Floor>('/building/' + this.transform(name) + '/floors').set(f.name, f);\n    }\n\n    deleteFloor(building: string, name: string): void {\n        this.db.list<Floor>('/building/' + this.transform(building) + '/floors').set(name, null);\n    }\n\n\n    transform(name: string): string {\n        return name.toLowerCase().replace(' ', '_');\n    }\n}\n"],"sourceRoot":""}